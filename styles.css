/* --- ARQUITECTURA DE IMPRESIÓN (PRINT STYLES) --- */
@media print {
  /* 1. Ocultar elementos de interfaz no deseados */
  header, 
  .filtros, 
  .botones-container, 
  #herramientas-resultados, 
  #loading-overlay, 
  .modal-error-full, 
  .overlay-progresion,
  .btn-eco-dic,
  .acordeon-icono-btn {
    display: none !important;
  }

  /* 2. Ajustes de Layout para Papel */
  body {
    background: white !important;
    color: black !important;
    font-size: 10pt;
  }

  main {
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* 3. Expansión forzada de Acordeones */
  .acordeon-panel {
    max-height: none !important;
    display: block !important;
    opacity: 1 !important;
    border: 1px solid #eee !important;
    margin-top: 5px !important;
  }

  .item-malla {
    break-inside: avoid; /* Evita que un bloque se parta entre dos páginas */
    box-shadow: none !important;
    border: 1px solid #ccc !important;
    margin-bottom: 20px !important;
  }

  .item-malla h3 {
    background: #f0f0f0 !important;
    color: black !important;
    border-bottom: 2px solid #333 !important;
    font-size: 14pt !important;
  }

  /* 4. Optimización de Colores ECO y DCE para tinta */
  .eco-texto, .dce-texto {
    font-weight: bold !important;
    text-decoration: underline !important;
  }

  .contenido-interno {
    background: transparent !important;
    padding: 10px !important;
  }

  /* 5. Título del Reporte (Solo visible al imprimir) */
  .print-only-header {
    display: block !important;
    text-align: center;
    margin-bottom: 20px;
    border-bottom: 3px double #000;
    padding-bottom: 10px;
  }
}

/* Ocultar el encabezado de impresión en la vista web normal */
.print-only-header { display: none; }
