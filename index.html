<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mallas Saber Lab - Grupo Ed√∫cate Colombia</title>
  <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="header">
    <img src="assets/logo-principal.png" alt="Grupo Ed√∫cate Colombia" class="logo">
    <div class="header-text">
      <h1>Mallas Saber Lab</h1>
      <p>Propuesta Curricular Nacional</p>
    </div>
  </header>

  <main class="dashboard">
    <!-- Toggle Mallas a: 3/4 per√≠odos -->
    <section class="toggle-periodos">
      <label>Mallas a:</label>
      <div class="radio-group">
        <label><input type="radio" name="periodos" value="3" checked onchange="updatePeriodos()"> 3 per√≠odos</label>
        <label><input type="radio" name="periodos" value="4" onchange="updatePeriodos()"> 4 per√≠odos</label>
      </div>
    </section>

    <section class="filtros">
      <div class="filtro-row">
        <div class="filtro-grupo">
          <label for="area">√Årea</label>
          <select id="area" onchange="updateGrado()"><option value="">Seleccionar</option><option value="matematicas">Matem√°ticas</option></select>
        </div>
        <div class="filtro-grupo">
          <label for="grado">Grado</label>
          <select id="grado" disabled onchange="updatePeriodo()"><option value="">Seleccionar</option><option value="5">5¬∞</option></select>
        </div>
      </div>
      <div class="filtro-row">
        <div class="filtro-grupo">
          <label for="periodo">Per√≠odo</label>
          <select id="periodo" disabled onchange="updateComponentes()"><option value="">Seleccionar</option></select>
        </div>
        <div class="filtro-grupo">
          <label for="componente">Componente</label>
          <select id="componente" disabled><option value="todos">Todos</option></select>
        </div>
      </div>
      <button class="btn-buscar" onclick="buscarMalla()">üîç Consultar Malla</button>
    </section>

    <section id="resultados" class="resultados">
      <div class="tabla-container">
        <table><thead><tr><th>Componente</th><th>C√≥digo EBC</th><th>Estandar</th><th>DBA</th><th>Evidencias</th><th>Saberes</th><th>Socioemocional</th><th>Tareas DCE</th><th>Fuente</th></tr></thead><tbody id="tabla-body"></tbody></table>
      </div>
    </section>
  </main>

  <script src="data-mallas.js"></script>
  <script>
    function updatePeriodos() {
      const maxPeriodo = document.querySelector('input[name="periodos"]:checked').value;
      updatePeriodo();
    }
    function updateGrado() { document.querySelector('#grado').disabled = !document.querySelector('#area').value; }
    function updatePeriodo() {
      const area = document.getElementById('area').value;
      const grado = document.getElementById('grado').value;
      const periodoSel = document.getElementById('periodo');
      const maxPeriodo = document.querySelector('input[name="periodos"]:checked').value;
      
      periodoSel.innerHTML = '<option value="">Seleccionar</option>';
      for(let i=1; i<=maxPeriodo; i++) periodoSel.innerHTML += `<option value="${i}">${i}</option>`;
      periodoSel.disabled = !grado || !area;
      updateComponentes();
    }
    function updateComponentes() {
      const periodo = document.getElementById('periodo').value;
      const compSel = document.getElementById('componente');
      compSel.innerHTML = '<option value="todos">Todos</option>';
      compSel.disabled = !periodo;
    }
    // resto funciones buscarMalla() igual...
  </script>
</body>
</html>
